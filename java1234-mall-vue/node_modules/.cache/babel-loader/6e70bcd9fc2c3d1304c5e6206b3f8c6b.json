{"remainingRequest":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\java1234-mall-vue\\src\\views\\login\\index.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\code\\java1234-mall-vue\\src\\views\\login\\index.vue","mtime":1731310513284},{"path":"D:\\code\\java1234-mall-vue\\babel.config.js","mtime":1643881175553},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281881},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2NvZGUvamF2YTEyMzQtbWFsbC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCB7IHJlZiB9IGZyb20gJ3Z1ZSc7IC8vIGltcG9ydCB7RWRpdH0gZnJvbSAnQGVsZW1lbnQtcGx1cy9pY29ucy12dWUnCi8vIGltcG9ydCBheGlvcyBmcm9tICdheGlvcycKCmltcG9ydCBheGlvcyBmcm9tICdAL3V0aWwvYXhpb3MnOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICdlbGVtZW50LXBsdXMnOwppbXBvcnQgeyBnZXRTZXJ2ZXJVcmwgfSBmcm9tICJAL2NvbmZpZy9zeXMiOwppbXBvcnQgcm91dGVyIGZyb20gJ0Avcm91dGVyJzsKZXhwb3J0IGRlZmF1bHQgewogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2U7CiAgICBleHBvc2UoKTsKICAgIHZhciBmb3JtID0gcmVmKHsKICAgICAgdXNlck5hbWU6ICcnLAogICAgICBwYXNzd29yZDogJycKICAgIH0pOwogICAgdmFyIHJ1bGVzID0gcmVmKHsKICAgICAgdXNlck5hbWU6IFt7CiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeUqOaIt+WQje+8gScsCiAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgIH1dLAogICAgICBwYXNzd29yZDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5a+G56CB77yBJywKICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgfV0KICAgIH0pOwogICAgdmFyIGZvcm1SZWYgPSByZWYobnVsbCk7CgogICAgdmFyIGhhbmRsZUxvZ2luID0gZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIGZvcm1SZWYudmFsdWUudmFsaWRhdGUoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcmVzdWx0LCBkYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJhZG1pbkxvZ2luIiwgZm9ybS52YWx1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgICBkYXRhID0gcmVzdWx0LmRhdGE7CgogICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09IDApIHsKICAgICAgICAgICAgICAgICAgICAvLyBFbE1lc3NhZ2UuaW5mbygi55m75b2V5oiQ5Yqf77yBIitkYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCBkYXRhLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlckluZm8iLCBKU09OLnN0cmluZ2lmeShmb3JtLnZhbHVlKSk7CiAgICAgICAgICAgICAgICAgICAgcm91dGVyLnJlcGxhY2UoIi8iKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnQwID0gX2NvbnRleHRbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJlcnJvcjoiICsgX2NvbnRleHQudDApOwogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+ezu+e7n+i/kOihjOWHuumUme+8jOivt+iBlOezu+euoeeQhuWRmCcpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZmFsc2UpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1sxLCA5XV0pOwogICAgICAgIH0pKTsKCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfTsKICAgICAgfSgpKTsKICAgIH07CgogICAgdmFyIHBhc3N3b3JkVHlwZSA9IHJlZigncGFzc3dvcmQnKTsKCiAgICB2YXIgY2hhbmdlVHlwZSA9IGZ1bmN0aW9uIGNoYW5nZVR5cGUoKSB7CiAgICAgIGlmIChwYXNzd29yZFR5cGUudmFsdWUgPT09ICdwYXNzd29yZCcpIHsKICAgICAgICBwYXNzd29yZFR5cGUudmFsdWUgPSAndGV4dCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcGFzc3dvcmRUeXBlLnZhbHVlID0gJ3Bhc3N3b3JkJzsKICAgICAgfQogICAgfTsKCiAgICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgICBmb3JtOiBmb3JtLAogICAgICBydWxlczogcnVsZXMsCiAgICAgIGZvcm1SZWY6IGZvcm1SZWYsCiAgICAgIGhhbmRsZUxvZ2luOiBoYW5kbGVMb2dpbiwKICAgICAgcGFzc3dvcmRUeXBlOiBwYXNzd29yZFR5cGUsCiAgICAgIGNoYW5nZVR5cGU6IGNoYW5nZVR5cGUsCiAgICAgIHJlZjogcmVmLAogICAgICBheGlvczogYXhpb3MsCiAgICAgIEVsTWVzc2FnZTogRWxNZXNzYWdlLAogICAgICBnZXRTZXJ2ZXJVcmw6IGdldFNlcnZlclVybCwKICAgICAgcm91dGVyOiByb3V0ZXIKICAgIH07CiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoX19yZXR1cm5lZF9fLCAnX19pc1NjcmlwdFNldHVwJywgewogICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgdmFsdWU6IHRydWUKICAgIH0pOwogICAgcmV0dXJuIF9fcmV0dXJuZWRfXzsKICB9Cn07"},{"version":3,"mappings":";;;;;AAiCE,SAASA,GAAT,QAAoB,KAApB,C,CACD;AACC;;AACA,OAAQC,KAAR,MAAmB,cAAnB;AACA,SAAQC,SAAR,QAAwB,cAAxB;AACA,SAAQC,YAAR,QAA2B,cAA3B;AACA,OAAOC,MAAP,MAAmB,UAAnB;AAGD;AAAAC;AAAA;AAAAC;AAAC,QAAMC,IAAI,GAACP,GAAG,CAAC;AACbQ,cAAQ,EAAE,EADG;AAEbC,cAAQ,EAAC;AAFI,KAAD,CAAd;AAKA,QAAMC,KAAK,GAACV,GAAG,CAAC;AACdQ,cAAQ,EAAE,CACR;AACEG,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,SAFX;AAGEC,eAAO,EAAE;AAHX,OADQ,CADI;AAOdJ,cAAQ,EAAC,CACP;AACEE,gBAAQ,EAAE,IADZ;AAEEC,eAAO,EAAE,QAFX;AAGEC,eAAO,EAAE;AAHX,OADO;AAPK,KAAD,CAAf;AAgBA,QAAMC,OAAO,GAACd,GAAG,CAAC,IAAD,CAAjB;;AAEA,QAAMe,WAAW,GAAC,SAAZA,WAAY,GAAI;AACpBD,aAAO,CAACE,KAAR,CAAcC,QAAd;AAAA,4EAAuB,iBAAOC,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACjBA,KADiB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,yBAUAjB,KAAK,CAACkB,IAAN,CAAW,YAAX,EAAwBZ,IAAI,CAACS,KAA7B,CAVA;;AAAA;AAUbI,wBAVa;AAWbC,sBAXa,GAWRD,MAAM,CAACC,IAXC;;AAYjB,sBAAGA,IAAI,CAACC,IAAL,IAAW,CAAd,EAAgB;AACd;AACAC,0BAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,OAA9B,EAAsCJ,IAAI,CAACK,KAA3C;AACAH,0BAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,UAA9B,EAAyCE,IAAI,CAACC,SAAL,CAAerB,IAAI,CAACS,KAApB,CAAzC;AACAZ,0BAAM,CAACyB,OAAP,CAAe,GAAf;AACD,mBALD,MAKK;AACH3B,6BAAS,CAAC4B,KAAV,CAAgBT,IAAI,CAACU,GAArB;AACD;;AAnBgB;AAAA;;AAAA;AAAA;AAAA;AAqBjBC,yBAAO,CAACC,GAAR,CAAY,sBAAZ;AACA/B,2BAAS,CAAC4B,KAAV,CAAgB,eAAhB;;AAtBiB;AAAA;AAAA;;AAAA;AAAA,mDAyBZ,KAzBY;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAvB;;AAAA;AAAA;AAAA;AAAA;AA4BD,KA7BD;;AA+BA,QAAMI,YAAY,GAAGlC,GAAG,CAAC,UAAD,CAAxB;;AACA,QAAMmC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvB,UAAID,YAAY,CAAClB,KAAb,KAAuB,UAA3B,EAAuC;AACrCkB,oBAAY,CAAClB,KAAb,GAAqB,MAArB;AACD,OAFD,MAEO;AACLkB,oBAAY,CAAClB,KAAb,GAAqB,UAArB;AACD;AACF,KAND;;AAOD;AAAAT;AAAAG;AAAAI;AAAAC;AAAAmB;AAAAC;AAAAnC;AAAAC;AAAAC;AAAAC;AAAAC;AAAA;AAAAgC;AAAAC;AAAArB;AAAA;AAAA;AAAA;AA9DA","names":["ref","axios","ElMessage","getServerUrl","router","setup","expose","form","userName","password","rules","required","message","trigger","formRef","handleLogin","value","validate","valid","post","result","data","code","window","sessionStorage","setItem","token","JSON","stringify","replace","error","msg","console","log","passwordType","changeType","Object","enumerable"],"sources":["D:/code/java1234-mall-vue/src/views/login/index.vue"],"sourcesContent":["<template >\r\n  <div class=\"login-container\">\r\n    <el-form ref=\"formRef\" :model=\"form\" class=\"login-form\" :rules=\"rules\">\r\n      <div class=\"title-container\">\r\n        <h3 class=\"title\">zcyoo管理员登录</h3>\r\n      </div>\r\n      <el-form-item prop=\"userName\">\r\n<!--        <el-icon :size=\"20\" class=\"svg-container\">\r\n          <edit />\r\n        </el-icon>-->\r\n        <svg-icon icon=\"user\" class=\"svg-container\"></svg-icon>\r\n        <el-input v-model=\"form.userName\" placeholder=\"请输入用户名...\"></el-input>\r\n      </el-form-item>\r\n      <el-form-item prop=\"password\">\r\n<!--        <el-icon :size=\"20\" class=\"svg-container\">\r\n          <edit />\r\n        </el-icon>-->\r\n        <svg-icon icon=\"password\" class=\"svg-container\"></svg-icon>\r\n        <el-input v-model=\"form.password\" placeholder=\"请输入密码...\" :type=\"passwordType\"></el-input>\r\n        <svg-icon\r\n          :icon=\"passwordType === 'password' ? 'eye' : 'eye-open'\"\r\n          @click=\"changeType\"\r\n        ></svg-icon>\r\n      </el-form-item>\r\n      <el-button type=\"primary\" class=\"login-button\" @click=\"handleLogin\">登录</el-button>\r\n          <p style=\"padding:20px\"><a href=\"https://qinzic.github.io\" target='_blank'><font size=4 color=red>Zcyoo</font></a></p>\r\n    </el-form>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n  import { ref } from 'vue'\r\n // import {Edit} from '@element-plus/icons-vue'\r\n  // import axios from 'axios'\r\n  import  axios from '@/util/axios'\r\n  import {ElMessage} from 'element-plus'\r\n  import {getServerUrl} from \"@/config/sys\";\r\n  import router from '@/router'\r\n\r\n\r\n  const form=ref({\r\n    userName: '',\r\n    password:''\r\n  })\r\n\r\n  const rules=ref({\r\n    userName: [\r\n      {\r\n        required: true,\r\n        message: '请输入用户名！',\r\n        trigger: 'blur',\r\n      }],\r\n    password:[\r\n      {\r\n        required: true,\r\n        message: '请输入密码！',\r\n        trigger: 'blur',\r\n      }\r\n    ]\r\n  })\r\n\r\n  const formRef=ref(null);\r\n\r\n  const handleLogin=()=>{\r\n    formRef.value.validate(async (valid) => {\r\n      if (valid) {\r\n        // let url=getServerUrl()+\"adminLogin\";\r\n        /*axios.post(url,form.value)\r\n          .then(response=>{\r\n            console.log(response.data)\r\n          }).catch(error=>{\r\n          ElMessage.error('系统运行出错，请联系管理员');\r\n        })*/\r\n        try{\r\n          let result=await axios.post(\"adminLogin\",form.value);\r\n          let data=result.data;\r\n          if(data.code==0){\r\n            // ElMessage.info(\"登录成功！\"+data.token);\r\n            window.sessionStorage.setItem(\"token\",data.token);\r\n            window.sessionStorage.setItem(\"userInfo\",JSON.stringify(form.value));\r\n            router.replace(\"/\")\r\n          }else{\r\n            ElMessage.error(data.msg);\r\n          }\r\n        }catch(err){\r\n          console.log(\"error:\"+err)\r\n          ElMessage.error('系统运行出错，请联系管理员');\r\n        }\r\n      } else {\r\n        return false\r\n      }\r\n    })\r\n  }\r\n\r\n  const passwordType = ref('password')\r\n  const changeType = () => {\r\n    if (passwordType.value === 'password') {\r\n      passwordType.value = 'text'\r\n    } else {\r\n      passwordType.value = 'password'\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$bg: #2d3a4b;\r\n$dark_gray: #889aa4;\r\n$light_gray: #eee;\r\n$cursor: #fff;\r\n\r\n\r\n\r\n.login-container {\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: $bg;\r\n  overflow: hidden;\r\n\r\n  .login-form {\r\n    position: relative;\r\n    width: 520px;\r\n    max-width: 100%;\r\n    padding: 160px 35px 0;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n\r\n    ::v-deep .el-form-item {\r\n      border: 1px solid rgba(255, 255, 255, 0.1);\r\n      background: rgba(0, 0, 0, 0.1);\r\n      border-radius: 5px;\r\n      color: #454545;\r\n    }\r\n\r\n    ::v-deep .el-input {\r\n      display: inline-block;\r\n      height: 47px;\r\n      width: 85%;\r\n\r\n      input {\r\n        background: transparent;\r\n        border: 0px;\r\n        -webkit-appearance: none;\r\n        border-radius: 0px;\r\n        padding: 12px 5px 12px 15px;\r\n        color: $light_gray;\r\n        height: 47px;\r\n        caret-color: $cursor;\r\n      }\r\n    }\r\n    .login-button {\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n    }\r\n  }\r\n\r\n  .tips {\r\n    font-size: 16px;\r\n    line-height: 28px;\r\n    color: #fff;\r\n    margin-bottom: 10px;\r\n\r\n    span {\r\n      &:first-of-type {\r\n        margin-right: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .svg-container {\r\n    padding: 6px 5px 6px 15px;\r\n    color: $dark_gray;\r\n    vertical-align: middle;\r\n    display: inline-block;\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n\r\n    .title {\r\n      font-size: 26px;\r\n      color: $light_gray;\r\n      margin: 0px auto 40px auto;\r\n      text-align: center;\r\n      font-weight: bold;\r\n    }\r\n\r\n    ::v-deep .lang-select {\r\n      position: absolute;\r\n      top: 4px;\r\n      right: 0;\r\n      background-color: white;\r\n      font-size: 22px;\r\n      padding: 4px;\r\n      border-radius: 4px;\r\n      cursor: pointer;\r\n    }\r\n  }\r\n\r\n  .show-pwd {\r\n    // position: absolute;\r\n    // right: 10px;\r\n    // top: 7px;\r\n    font-size: 16px;\r\n    color: $dark_gray;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>\r\n"]}]}