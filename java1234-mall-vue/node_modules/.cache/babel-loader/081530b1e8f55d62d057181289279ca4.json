{"remainingRequest":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\java1234-mall-vue\\src\\views\\user\\index.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\code\\java1234-mall-vue\\src\\views\\user\\index.vue","mtime":1644566468978},{"path":"D:\\code\\java1234-mall-vue\\babel.config.js","mtime":1643881175553},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281881},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2NvZGUvamF2YTEyMzQtbWFsbC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCB7IFNlYXJjaCB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ0AvdXRpbC9heGlvcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoX19wcm9wcywgX3JlZikgewogICAgdmFyIGV4cG9zZSA9IF9yZWYuZXhwb3NlOwogICAgZXhwb3NlKCk7CiAgICB2YXIgcXVlcnlGb3JtID0gcmVmKHsKICAgICAgcXVlcnk6ICcnLAogICAgICBwYWdlTnVtOiAxLAogICAgICBwYWdlU2l6ZTogMTAKICAgIH0pOwogICAgdmFyIHRvdGFsID0gcmVmKDApOwogICAgdmFyIHRhYmxlRGF0YSA9IHJlZihbXSk7CgogICAgdmFyIGluaXRVc2VyTGlzdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImFkbWluL3VzZXIvbGlzdCIsIHF1ZXJ5Rm9ybS52YWx1ZSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0YWJsZURhdGEudmFsdWUgPSByZXMuZGF0YS51c2VyTGlzdDsKICAgICAgICAgICAgICAgIHRvdGFsLnZhbHVlID0gcmVzLmRhdGEudG90YWw7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdFVzZXJMaXN0KCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIGluaXRVc2VyTGlzdCgpOwoKICAgIHZhciBoYW5kbGVTaXplQ2hhbmdlID0gZnVuY3Rpb24gaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICBxdWVyeUZvcm0udmFsdWUucGFnZU51bSA9IDE7CiAgICAgIHF1ZXJ5Rm9ybS52YWx1ZS5wYWdlU2l6ZSA9IHBhZ2VTaXplOwogICAgICBpbml0VXNlckxpc3QoKTsKICAgIH07CgogICAgdmFyIGhhbmRsZUN1cnJlbnRDaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgcXVlcnlGb3JtLnZhbHVlLnBhZ2VOdW0gPSBwYWdlTnVtOwogICAgICBpbml0VXNlckxpc3QoKTsKICAgIH07CgogICAgdmFyIF9fcmV0dXJuZWRfXyA9IHsKICAgICAgcXVlcnlGb3JtOiBxdWVyeUZvcm0sCiAgICAgIHRvdGFsOiB0b3RhbCwKICAgICAgdGFibGVEYXRhOiB0YWJsZURhdGEsCiAgICAgIGluaXRVc2VyTGlzdDogaW5pdFVzZXJMaXN0LAogICAgICBoYW5kbGVTaXplQ2hhbmdlOiBoYW5kbGVTaXplQ2hhbmdlLAogICAgICBoYW5kbGVDdXJyZW50Q2hhbmdlOiBoYW5kbGVDdXJyZW50Q2hhbmdlLAogICAgICBTZWFyY2g6IFNlYXJjaCwKICAgICAgcmVmOiByZWYsCiAgICAgIGF4aW9zOiBheGlvcwogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfTs="},{"version":3,"mappings":";;AAyCA,SAAQA,MAAR,QAAsB,yBAAtB;AACA,SAASC,GAAT,QAAoB,KAApB;AACA,OAAQC,KAAR,MAAmB,cAAnB;AAGC;AAAAC;AAAA;AAAAC;AACD,QAAMC,SAAS,GAACJ,GAAG,CAAC;AAClBK,WAAK,EAAC,EADY;AAElBC,aAAO,EAAC,CAFU;AAGlBC,cAAQ,EAAC;AAHS,KAAD,CAAnB;AAMA,QAAMC,KAAK,GAACR,GAAG,CAAC,CAAD,CAAf;AAEA,QAAMS,SAAS,GAACT,GAAG,CAAC,EAAD,CAAnB;;AAMA,QAAMU,YAAY;AAAA,0EAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACDT,KAAK,CAACU,IAAN,CAAW,iBAAX,EAA6BP,SAAS,CAACQ,KAAvC,CADC;;AAAA;AACXC,mBADW;AAEjBJ,yBAAS,CAACG,KAAV,GAAgBC,GAAG,CAACC,IAAJ,CAASC,QAAzB;AACAP,qBAAK,CAACI,KAAN,GAAYC,GAAG,CAACC,IAAJ,CAASN,KAArB;;AAHiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAD;;AAAA,sBAAZE,YAAY;AAAA;AAAA;AAAA,OAAlB;;AAMAA,gBAAY;;AAEZ,QAAMM,gBAAgB,GAAC,SAAjBA,gBAAiB,CAACT,QAAD,EAAY;AACjCH,eAAS,CAACQ,KAAV,CAAgBN,OAAhB,GAAwB,CAAxB;AACAF,eAAS,CAACQ,KAAV,CAAgBL,QAAhB,GAAyBA,QAAzB;AACAG,kBAAY;AACb,KAJD;;AAMA,QAAMO,mBAAmB,GAAC,SAApBA,mBAAoB,CAACX,OAAD,EAAW;AACnCF,eAAS,CAACQ,KAAV,CAAgBN,OAAhB,GAAwBA,OAAxB;AACAI,kBAAY;AACb,KAHD;;AAIC;AAAAN;AAAAI;AAAAC;AAAAC;AAAAM;AAAAC;AAAAlB;AAAAC;AAAAC;AAAA;AAAAiB;AAAAC;AAAAP;AAAA;AAAA;AAAA;AAjCA","names":["Search","ref","axios","setup","expose","queryForm","query","pageNum","pageSize","total","tableData","initUserList","post","value","res","data","userList","handleSizeChange","handleCurrentChange","Object","enumerable"],"sources":["D:/code/java1234-mall-vue/src/views/user/index.vue"],"sourcesContent":["<template>\r\n  <el-card>\r\n    <el-row :gutter=\"20\" class=\"header\">\r\n        <el-col :span=\"7\">\r\n          <el-input placeholder=\"请输入用户昵称...\" clearable v-model=\"queryForm.query\"></el-input>\r\n        </el-col>\r\n        <el-button type=\"primary\" :icon=\"Search\" @click=\"initUserList\">搜索</el-button>\r\n    </el-row>\r\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"#ID\" width=\"80\" />\r\n\r\n      <el-table-column prop=\"nickName\" label=\"用户昵称\" width=\"200\" />\r\n      <el-table-column  prop=\"avatarUrl\" label=\"头像\" width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          <img :src=\"scope.row.avatarUrl\" width=\"50\" height=\"50\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"openid\" label=\"openID\" />\r\n      <el-table-column prop=\"registerDate\" label=\"注册日期\" width=\"200\"/>\r\n      <el-table-column prop=\"lastLoginDate\" label=\"最后登录日期\" width=\"200\"/>\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-model:currentPage=\"queryForm.pageNum\"\r\n      :page-sizes=\"[10, 20, 30, 40,50]\"\r\n      :page-size=\"queryForm.pageSize\"\r\n      :small=\"small\"\r\n      :disabled=\"disabled\"\r\n      :background=\"background\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n\r\n  </el-card>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport {Search } from '@element-plus/icons-vue'\r\nimport { ref } from 'vue'\r\nimport  axios from '@/util/axios'\r\n\r\n\r\n\r\nconst queryForm=ref({\r\n  query:'',\r\n  pageNum:1,\r\n  pageSize:10\r\n})\r\n\r\nconst total=ref(0)\r\n\r\nconst tableData=ref([\r\n\r\n])\r\n\r\n\r\n\r\nconst initUserList=async()=>{\r\n  const res=await axios.post(\"admin/user/list\",queryForm.value);\r\n  tableData.value=res.data.userList;\r\n  total.value=res.data.total;\r\n}\r\n\r\ninitUserList();\r\n\r\nconst handleSizeChange=(pageSize)=>{\r\n  queryForm.value.pageNum=1;\r\n  queryForm.value.pageSize=pageSize;\r\n  initUserList();\r\n}\r\n\r\nconst handleCurrentChange=(pageNum)=>{\r\n  queryForm.value.pageNum=pageNum;\r\n  initUserList();\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n.header{\r\n  padding-bottom: 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.el-pagination{\r\n  padding-top: 15px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n</style>"]}]}