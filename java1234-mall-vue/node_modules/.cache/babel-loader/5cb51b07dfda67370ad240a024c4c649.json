{"remainingRequest":"D:\\tennis\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\tennis\\java1234-mall-vue\\src\\views\\smallType\\components\\dialog.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\tennis\\java1234-mall-vue\\src\\views\\smallType\\components\\dialog.vue","mtime":1644884046000},{"path":"D:\\tennis\\java1234-mall-vue\\babel.config.js","mtime":1643881175000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L3Rlbm5pcy9qYXZhMTIzNC1tYWxsLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICJAL3V0aWwvYXhpb3MiOwppbXBvcnQgeyBFbE1lc3NhZ2UgfSBmcm9tICJlbGVtZW50LXBsdXMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IHsKICAgIGRpYWxvZ1RpdGxlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgZGlhbG9nVmFsdWU6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHt9CiAgICB9CiAgfSwKICBlbWl0czogWyd1cGRhdGU6bW9kZWxWYWx1ZScsICdpbml0U21hbGxUeXBlTGlzdCddLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChfX3Byb3BzLCBfcmVmKSB7CiAgICB2YXIgZXhwb3NlID0gX3JlZi5leHBvc2UsCiAgICAgICAgZW1pdHMgPSBfcmVmLmVtaXQ7CiAgICBleHBvc2UoKTsKICAgIHZhciBwcm9wcyA9IF9fcHJvcHM7CiAgICB2YXIgZm9ybSA9IHJlZih7CiAgICAgIGlkOiAtMSwKICAgICAgbmFtZTogJycsCiAgICAgIHJlbWFyazogJycsCiAgICAgIGJpZ1R5cGU6IHsKICAgICAgICBpZDogIiIKICAgICAgfQogICAgfSk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwcm9wcy5kaWFsb2dWYWx1ZTsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImRpYWxvZ1ZhbHVlMjIyPSIgKyBwcm9wcy5kaWFsb2dWYWx1ZSk7CiAgICAgIGZvcm0udmFsdWUgPSBwcm9wcy5kaWFsb2dWYWx1ZTsKICAgIH0sIHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9KTsKICAgIHZhciBmb3JtUmVmID0gcmVmKG51bGwpOwoKICAgIHZhciBoYW5kbGVDbG9zZSA9IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICBmb3JtUmVmLnZhbHVlLnJlc2V0RmllbGRzKCk7CiAgICAgIGVtaXRzKCd1cGRhdGU6bW9kZWxWYWx1ZScsIGZhbHNlKTsKICAgIH07CgogICAgdmFyIHJ1bGVzID0gcmVmKHsKICAgICAgbmFtZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl5ZWG5ZOB5bCP57G75ZCN56ew77yBJwogICAgICB9XSwKICAgICAgcmVtYXJrOiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXllYblk4HlsI/nsbvmj4/ov7DvvIEnCiAgICAgIH1dCiAgICB9KTsKICAgIHZhciBiaWdUeXBlU2xlY3RPcHRpb25zID0gcmVmKFtdKTsKCiAgICB2YXIgaW5pdEJpZ1R5cGVTZWxlY3RMaXN0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3h4eCcpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiYWRtaW4vYmlnVHlwZS9saXN0QWxsIik7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBiaWdUeXBlU2xlY3RPcHRpb25zLnZhbHVlID0gcmVzLmRhdGEuYmlnVHlwZUxpc3Q7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSk7CgogICAgICByZXR1cm4gZnVuY3Rpb24gaW5pdEJpZ1R5cGVTZWxlY3RMaXN0KCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIGluaXRCaWdUeXBlU2VsZWN0TGlzdCgpOwoKICAgIHZhciBoYW5kbGVDb25maXJtID0gZnVuY3Rpb24gaGFuZGxlQ29uZmlybSgpIHsKICAgICAgZm9ybVJlZi52YWx1ZS52YWxpZGF0ZSggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcmVzdWx0LCBkYXRhOwogICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTg7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTsKCiAgICAgICAgICAgICAgICAgIGlmICghKGZvcm0udmFsdWUuYmlnVHlwZS5pZCA9PSAiIikpIHsKICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcigi6K+36YCJ5oup5ZWG5ZOB5aSn57G7Iik7CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoImFkbWluL3NtYWxsVHlwZS9zYXZlIiwgZm9ybS52YWx1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlc3VsdC5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoIuaJp+ihjOaIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgIGZvcm1SZWYudmFsdWUucmVzZXRGaWVsZHMoKTsKICAgICAgICAgICAgICAgICAgICBlbWl0cygiaW5pdFNtYWxsVHlwZUxpc3QiKTsKICAgICAgICAgICAgICAgICAgICBoYW5kbGVDbG9zZSgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgxKTsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coImVycm9yOiIgKyBfY29udGV4dDIudDApOwogICAgICAgICAgICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+ezu+e7n+i/kOihjOWHuumUme+8jOivt+iBlOezu+euoeeQhuWRmCcpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBmYWxzZSk7CgogICAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSwgX2NhbGxlZTIsIG51bGwsIFtbMSwgMTJdXSk7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfTsKCiAgICB2YXIgX19yZXR1cm5lZF9fID0gewogICAgICBwcm9wczogcHJvcHMsCiAgICAgIGZvcm06IGZvcm0sCiAgICAgIGVtaXRzOiBlbWl0cywKICAgICAgZm9ybVJlZjogZm9ybVJlZiwKICAgICAgaGFuZGxlQ2xvc2U6IGhhbmRsZUNsb3NlLAogICAgICBydWxlczogcnVsZXMsCiAgICAgIGJpZ1R5cGVTbGVjdE9wdGlvbnM6IGJpZ1R5cGVTbGVjdE9wdGlvbnMsCiAgICAgIGluaXRCaWdUeXBlU2VsZWN0TGlzdDogaW5pdEJpZ1R5cGVTZWxlY3RMaXN0LAogICAgICBoYW5kbGVDb25maXJtOiBoYW5kbGVDb25maXJtLAogICAgICByZWY6IHJlZiwKICAgICAgd2F0Y2g6IHdhdGNoLAogICAgICBheGlvczogYXhpb3MsCiAgICAgIEVsTWVzc2FnZTogRWxNZXNzYWdlCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQp9Ow=="},{"version":3,"mappings":"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","names":["ref","watch","axios","ElMessage","props","dialogTitle","type","default","required","dialogValue","emits","setup","expose","form","id","name","remark","bigType","console","log","value","deep","immediate","formRef","handleClose","resetFields","rules","message","bigTypeSlectOptions","initBigTypeSelectList","post","res","data","bigTypeList","handleConfirm","validate","valid","error","result","code","success","msg","Object","enumerable"],"sources":["D:/tennis/java1234-mall-vue/src/views/smallType/components/dialog.vue"],"sourcesContent":["<template>\r\n  <el-dialog\r\n    :model-value=\"dialogVisible\"\r\n    :title=\"dialogTitle\"\r\n    width=\"30%\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"form\" label-width=\"100px\" :rules=\"rules\">\r\n      <el-form-item label=\"小类名称\" prop=\"name\">\r\n        <el-input v-model=\"form.name\"></el-input>\r\n      </el-form-item>\r\n\r\n      <el-form-item label=\"所属大类\">\r\n        <el-select v-model=\"form.bigType.id\" class=\"m-2\" placeholder=\"请选择...\" >\r\n          <el-option\r\n            v-for=\"item in bigTypeSlectOptions\"\r\n            :key=\"item.id\"\r\n            :label=\"item.name\"\r\n            :value=\"item.id\"\r\n          >\r\n          </el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n\r\n\r\n      <el-form-item label=\"小类描述\" prop=\"remark\">\r\n        <el-input\r\n          v-model=\"form.remark\"\r\n          :rows=\"4\"\r\n          type=\"textarea\"\r\n        />\r\n      </el-form-item>\r\n\r\n\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleConfirm\"\r\n        >确认</el-button\r\n        >\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits,ref ,defineProps,watch} from 'vue'\r\nimport axios from \"@/util/axios\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nconst props=defineProps({\r\n  dialogTitle:{\r\n    type:String,\r\n    default:'',\r\n    required:true\r\n  },\r\n  dialogValue:{\r\n    type:Object,\r\n    default:()=>{}\r\n  }\r\n})\r\n\r\n\r\nconst form=ref({\r\n  id:-1,\r\n  name:'',\r\n  remark:'',\r\n  bigType:{\r\n    id:\"\"\r\n  }\r\n})\r\n\r\nwatch(\r\n  ()=>props.dialogValue,\r\n  ()=>{\r\n    console.log(\"dialogValue222=\"+props.dialogValue);\r\n    form.value=props.dialogValue;\r\n  },\r\n  {deep:true,immediate:true}\r\n)\r\n\r\n\r\nconst emits=defineEmits(['update:modelValue','initSmallTypeList'])\r\n\r\nconst formRef=ref(null)\r\n\r\n\r\nconst handleClose = () => {\r\n  formRef.value.resetFields();\r\n  emits('update:modelValue',false)\r\n}\r\n\r\n\r\n\r\nconst rules=ref({\r\n  name:[\r\n    {\r\n      required: true,\r\n      message: '请输入商品小类名称！',\r\n    }\r\n  ],\r\n  remark:[\r\n    {\r\n      required: true,\r\n      message: '请输入商品小类描述！',\r\n    },\r\n  ]\r\n})\r\n\r\nconst bigTypeSlectOptions =ref([])\r\n\r\nconst initBigTypeSelectList=async()=>{\r\n  console.log('xxx')\r\n  const res=await axios.post(\"admin/bigType/listAll\");\r\n  bigTypeSlectOptions.value=res.data.bigTypeList;\r\n}\r\n\r\ninitBigTypeSelectList();\r\n\r\nconst handleConfirm = () => {\r\n  formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n       try{\r\n        if(form.value.bigType.id==\"\"){\r\n          ElMessage.error(\"请选择商品大类\");\r\n          return;\r\n        }\r\n        let result=await axios.post(\"admin/smallType/save\",form.value);\r\n        let data=result.data;\r\n        if(data.code==0){\r\n          ElMessage.success(\"执行成功\");\r\n          formRef.value.resetFields();\r\n          emits(\"initSmallTypeList\")\r\n          handleClose();\r\n        }else{\r\n          ElMessage.error(data.msg);\r\n        }\r\n      }catch(err){\r\n        console.log(\"error:\"+err)\r\n        ElMessage.error('系统运行出错，请联系管理员');\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"]}]}