{"remainingRequest":"D:\\code\\java1234-mall-vue\\node_modules\\thread-loader\\dist\\cjs.js!D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\java1234-mall-vue\\src\\views\\product\\components\\productSwiperImageDialog.vue?vue&type=script&setup=true&lang=js","dependencies":[{"path":"D:\\code\\java1234-mall-vue\\src\\views\\product\\components\\productSwiperImageDialog.vue","mtime":1645314011591},{"path":"D:\\code\\java1234-mall-vue\\babel.config.js","mtime":1643881175553},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1731167284113},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281881},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2NvZGUvamF2YTEyMzQtbWFsbC12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNvcnQuanMiOwppbXBvcnQgeyByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHdpdGhDdHggYXMgX3dpdGhDdHgsIHVucmVmIGFzIF91bnJlZiwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IFsic3JjIl07Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCLmt7vliqAiKTsKCnZhciBfaG9pc3RlZF8zID0gWyJzcmMiXTsKaW1wb3J0IHsgcmVmLCB3YXRjaCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCBheGlvcyBmcm9tICJAL3V0aWwvYXhpb3MiOwppbXBvcnQgeyBFbE1lc3NhZ2UsIEVsTWVzc2FnZUJveCB9IGZyb20gImVsZW1lbnQtcGx1cyI7CmltcG9ydCB7IGdldFNlcnZlclVybCB9IGZyb20gIkAvY29uZmlnL3N5cyI7CmltcG9ydCB7IERlbGV0ZSwgUGx1cyB9IGZyb20gJ0BlbGVtZW50LXBsdXMvaWNvbnMtdnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBwcm9kdWN0SWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAtMSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIGVtaXRzOiBbJ3VwZGF0ZTptb2RlbFZhbHVlJ10sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKF9fcHJvcHMsIF9yZWYpIHsKICAgIHZhciBlbWl0cyA9IF9yZWYuZW1pdDsKICAgIHZhciBwcm9wcyA9IF9fcHJvcHM7CiAgICB2YXIgcnVsZXMgPSByZWYoewogICAgICBzb3J0OiBbewogICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXmjpLliJfluo/lj7chJwogICAgICB9LCB7CiAgICAgICAgdHlwZTogJ251bWJlcicsCiAgICAgICAgbWVzc2FnZTogJ+aOkuWIl+W6j+WPt+aYr+aVsOWAvOexu+Wei++8gScsCiAgICAgICAgdHJhbnNmb3JtOiBmdW5jdGlvbiB0cmFuc2Zvcm0odmFsdWUpIHsKICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpOwogICAgICAgIH0KICAgICAgfV0KICAgIH0pOwoKICAgIHZhciBoYW5kbGVDbG9zZSA9IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICBlbWl0cygndXBkYXRlOm1vZGVsVmFsdWUnLCBmYWxzZSk7CiAgICB9OwoKICAgIHZhciBmb3JtUmVmID0gcmVmKG51bGwpOwogICAgdmFyIGltYWdlVXJsID0gcmVmKCIiKTsKICAgIHZhciBoZWFkZXJzID0gcmVmKHsKICAgICAgdG9rZW46IHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpCiAgICB9KTsKICAgIHZhciBmb3JtID0gcmVmKHsKICAgICAgcHJvZHVjdElkOiAtMSwKICAgICAgc29ydDogMCwKICAgICAgaW1hZ2U6ICcnCiAgICB9KTsKCiAgICB2YXIgaW5pdFByb2R1Y3RTd2lwZXJJbWFnZUxpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3JlZjIgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygneHh4Jyk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoImFkbWluL3Byb2R1Y3RTd2lwZXJJbWFnZS9saXN0LyIgKyBmb3JtLnZhbHVlLnByb2R1Y3RJZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICB0YWJsZURhdGEudmFsdWUgPSByZXMuZGF0YS5wcm9kdWN0U3dpcGVySW1hZ2VMaXN0OwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uIGluaXRQcm9kdWN0U3dpcGVySW1hZ2VMaXN0KCkgewogICAgICAgIHJldHVybiBfcmVmMi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpOwoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLnByb2R1Y3RJZDsKICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc29sZS5sb2coImlkPT0iICsgcHJvcHMucHJvZHVjdElkKTsKICAgICAgdmFyIHByb2R1Y3RJZCA9IHByb3BzLnByb2R1Y3RJZDsKICAgICAgZm9ybS52YWx1ZS5wcm9kdWN0SWQgPSBwcm9kdWN0SWQ7CiAgICAgIGluaXRQcm9kdWN0U3dpcGVySW1hZ2VMaXN0KCk7CiAgICB9LCB7CiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSk7CiAgICB2YXIgdGFibGVEYXRhID0gcmVmKFtdKTsKCiAgICB2YXIgYmVmb3JlQXZhdGFyVXBsb2FkID0gZnVuY3Rpb24gYmVmb3JlQXZhdGFyVXBsb2FkKGZpbGUpIHsKICAgICAgdmFyIGlzSlBHID0gZmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7CiAgICAgIHZhciBpc0x0Mk0gPSBmaWxlLnNpemUgLyAxMDI0IC8gMTAyNCA8IDI7CgogICAgICBpZiAoIWlzSlBHKSB7CiAgICAgICAgRWxNZXNzYWdlLmVycm9yKCflm77niYflv4XpobvmmK9qcGfmoLzlvI8nKTsKICAgICAgfQoKICAgICAgaWYgKCFpc0x0Mk0pIHsKICAgICAgICBFbE1lc3NhZ2UuZXJyb3IoJ+WbvueJh+Wkp+Wwj+S4jeiDvei2hei/hzJNIScpOwogICAgICB9CgogICAgICByZXR1cm4gaXNKUEcgJiYgaXNMdDJNOwogICAgfTsKCiAgICB2YXIgaGFuZGxlQXZhdGFyU3VjY2VzcyA9IGZ1bmN0aW9uIGhhbmRsZUF2YXRhclN1Y2Nlc3MocmVzKSB7CiAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgaW1hZ2VVcmwudmFsdWUgPSBnZXRTZXJ2ZXJVcmwoKSArIHJlcy5kYXRhLnNyYzsKICAgICAgZm9ybS52YWx1ZS5pbWFnZSA9IHJlcy5kYXRhLnRpdGxlOwogICAgfTsKCiAgICB2YXIgaGFuZGxlQ29uZmlybSA9IGZ1bmN0aW9uIGhhbmRsZUNvbmZpcm0oKSB7CiAgICAgIGlmIChpbWFnZVVybC52YWx1ZSA9PSAiIikgewogICAgICAgIEVsTWVzc2FnZS5lcnJvcigi6K+35LiK5Lyg5Zu+54mH77yBIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBmb3JtUmVmLnZhbHVlLnZhbGlkYXRlKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfcmVmMyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIodmFsaWQpIHsKICAgICAgICAgIHZhciByZXN1bHQsIGRhdGE7CiAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coInh4eCIpOwogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCJhZG1pbi9wcm9kdWN0U3dpcGVySW1hZ2UvYWRkIiwgZm9ybS52YWx1ZSk7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgICAgZGF0YSA9IHJlc3VsdC5kYXRhOwoKICAgICAgICAgICAgICAgICAgaWYgKCEoZGF0YS5jb2RlID09IDApKSB7CiAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlLnN1Y2Nlc3MoIuaJp+ihjOaIkOWKnyIpOwogICAgICAgICAgICAgICAgICBpbWFnZVVybC52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICBmb3JtUmVmLnZhbHVlLnJlc2V0RmllbGRzKCk7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0UHJvZHVjdFN3aXBlckltYWdlTGlzdCgpOwoKICAgICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CgogICAgICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGZhbHNlKTsKCiAgICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgfSkpOwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9OwogICAgICB9KCkpOwogICAgfTsKCiAgICB2YXIgaGFuZGxlRGVsZXRlID0gZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGlkKSB7CiAgICAgIEVsTWVzc2FnZUJveC5jb25maXJtKCfmgqjnoa7lrpropoHliKDpmaTov5nmnaHorrDlvZXlkJc/JywgJ+ezu+e7n+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oIC8qI19fUFVSRV9fKi9fYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpZD0iICsgaWQpOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLmdldCgiYWRtaW4vcHJvZHVjdFN3aXBlckltYWdlL2RlbGV0ZS8iICsgaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgIEVsTWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip/vvIEnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICBpbml0UHJvZHVjdFN3aXBlckltYWdlTGlzdCgpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgRWxNZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5kYXRhLm1zZwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoX2N0eCwgX2NhY2hlKSB7CiAgICAgIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybS1pdGVtIik7CgogICAgICB2YXIgX2NvbXBvbmVudF9lbF9pY29uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWljb24iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX3VwbG9hZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC11cGxvYWQiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybSIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uID0gX3Jlc29sdmVDb21wb25lbnQoImVsLXRhYmxlLWNvbHVtbiIpOwoKICAgICAgdmFyIF9jb21wb25lbnRfZWxfdGFibGUgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdGFibGUiKTsKCiAgICAgIHZhciBfY29tcG9uZW50X2VsX2RpYWxvZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1kaWFsb2ciKTsKCiAgICAgIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2RpYWxvZywgewogICAgICAgICJtb2RlbC12YWx1ZSI6IF9jdHgucHJvZHVjdFN3aXBlckltYWdlRGlhbG9nVmlzaWJsZSwKICAgICAgICB0aXRsZTogIuWVhuWTgei9ruaSreWbvueJh+iuvue9riIsCiAgICAgICAgd2lkdGg6ICIzMCUiLAogICAgICAgIG9uQ2xvc2U6IGhhbmRsZUNsb3NlCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICAgICAgcmVmX2tleTogImZvcm1SZWYiLAogICAgICAgICAgICByZWY6IGZvcm1SZWYsCiAgICAgICAgICAgIG1vZGVsOiBmb3JtLnZhbHVlLAogICAgICAgICAgICAibGFiZWwtd2lkdGgiOiAiMTAwcHgiLAogICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICJ0ZXh0LWFsaWduIjogImNlbnRlciIKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcnVsZXM6IHJ1bGVzLnZhbHVlCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICAgICAgbGFiZWw6ICLmjpLliJfluo/lj7ciLAogICAgICAgICAgICAgICAgcHJvcDogInNvcnQiCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2lucHV0LCB7CiAgICAgICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogZm9ybS52YWx1ZS5zb3J0LAogICAgICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9ybS52YWx1ZS5zb3J0ID0gJGV2ZW50OwogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAiMTAwcHgiCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbIm1vZGVsVmFsdWUiXSldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3VwbG9hZCwgewogICAgICAgICAgICAgICAgaGVhZGVyczogaGVhZGVycy52YWx1ZSwKICAgICAgICAgICAgICAgIGNsYXNzOiAiYXZhdGFyLXVwbG9hZGVyIiwKICAgICAgICAgICAgICAgIGFjdGlvbjogX3VucmVmKGdldFNlcnZlclVybCkoKSArICcvYWRtaW4vcHJvZHVjdFN3aXBlckltYWdlL3VwbG9hZEltYWdlJywKICAgICAgICAgICAgICAgICJzaG93LWZpbGUtbGlzdCI6IGZhbHNlLAogICAgICAgICAgICAgICAgIm9uLXN1Y2Nlc3MiOiBoYW5kbGVBdmF0YXJTdWNjZXNzLAogICAgICAgICAgICAgICAgImJlZm9yZS11cGxvYWQiOiBiZWZvcmVBdmF0YXJVcGxvYWQKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBbaW1hZ2VVcmwudmFsdWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJpbWciLCB7CiAgICAgICAgICAgICAgICAgICAga2V5OiAwLAogICAgICAgICAgICAgICAgICAgIHNyYzogaW1hZ2VVcmwudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhdmF0YXIiCiAgICAgICAgICAgICAgICAgIH0sIG51bGwsIDgsIF9ob2lzdGVkXzEpKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfY29tcG9uZW50X2VsX2ljb24sIHsKICAgICAgICAgICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJhdmF0YXItdXBsb2FkZXItaWNvbiIKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF91bnJlZihQbHVzKSldOwogICAgICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgICAgfSkpXTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgIH0sIDgsIFsiaGVhZGVycyIsICJhY3Rpb24iXSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgbnVsbCwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb25maXJtKCk7CiAgICAgICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbX2hvaXN0ZWRfMl07CiAgICAgICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgICB9KV07CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICB9KV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICB9LCA4LCBbIm1vZGVsIiwgInJ1bGVzIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF90YWJsZSwgewogICAgICAgICAgICBkYXRhOiB0YWJsZURhdGEudmFsdWUsCiAgICAgICAgICAgIHN0cmlwZTogIiIsCiAgICAgICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAgICAgIndpZHRoIjogIjEwMCUiCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgICAgICAgICAgICB0eXBlOiAiaW5kZXgiLAogICAgICAgICAgICAgICAgd2lkdGg6ICI1MCIKICAgICAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdGFibGVfY29sdW1uLCB7CiAgICAgICAgICAgICAgICBwcm9wOiAiaW1hZ2UiLAogICAgICAgICAgICAgICAgbGFiZWw6ICLova7mkq3lm77niYciCiAgICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKHNjb3BlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZUVsZW1lbnRWTm9kZSgiaW1nIiwgewogICAgICAgICAgICAgICAgICAgIHNyYzogX3VucmVmKGdldFNlcnZlclVybCkoKSArICcvaW1hZ2UvcHJvZHVjdFN3aXBlckltZ3MvJyArIHNjb3BlLnJvdy5pbWFnZSwKICAgICAgICAgICAgICAgICAgICB3aWR0aDogIjgwIiwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICI4MCIKICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgX2hvaXN0ZWRfMyldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgICAgICAgICAgcHJvcDogInNvcnQiLAogICAgICAgICAgICAgICAgbGFiZWw6ICLmjpLliJfluo/lj7ciLAogICAgICAgICAgICAgICAgd2lkdGg6ICIxMDAiCiAgICAgICAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX3RhYmxlX2NvbHVtbiwgewogICAgICAgICAgICAgICAgcHJvcDogImFjdGlvbiIsCiAgICAgICAgICAgICAgICBsYWJlbDogIuaTjeS9nCIsCiAgICAgICAgICAgICAgICB3aWR0aDogIjEwMCIKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoc2NvcGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9idXR0b24sIHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiZGFuZ2VyIiwKICAgICAgICAgICAgICAgICAgICBpY29uOiBfdW5yZWYoRGVsZXRlKSwKICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZURlbGV0ZShzY29wZS5yb3cuaWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSwgbnVsbCwgOCwgWyJpY29uIiwgIm9uQ2xpY2siXSldOwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgfSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgfSwgOCwgWyJkYXRhIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgIH0sIDgsIFsibW9kZWwtdmFsdWUiXSk7CiAgICB9OwogIH0KfTs="},{"version":3,"mappings":"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","names":["ref","watch","axios","ElMessage","ElMessageBox","getServerUrl","Delete","Plus","props","productId","type","default","required","emits","setup","rules","sort","message","transform","value","Number","handleClose","formRef","imageUrl","headers","token","window","sessionStorage","getItem","form","image","initProductSwiperImageList","console","log","get","res","tableData","data","productSwiperImageList","deep","immediate","beforeAvatarUpload","file","isJPG","isLt2M","size","error","handleAvatarSuccess","src","title","handleConfirm","validate","valid","post","result","code","success","resetFields","msg","handleDelete","id","confirm","confirmButtonText","cancelButtonText","then","catch","width","onClose","ref_key","model","style","label","prop","modelValue","_","class","action","key","onClick","stripe","height","icon"],"sources":["D:/code/java1234-mall-vue/src/views/product/components/productSwiperImageDialog.vue"],"sourcesContent":["<template>\r\n\r\n  <el-dialog\r\n    :model-value=\"productSwiperImageDialogVisible\"\r\n    title=\"商品轮播图片设置\"\r\n    width=\"30%\"\r\n    @close=\"handleClose\"\r\n\r\n  >\r\n\r\n    <el-form ref=\"formRef\" :model=\"form\" label-width=\"100px\" style=\"text-align: center\" :rules=\"rules\">\r\n\r\n      <el-form-item label=\"排列序号\" prop=\"sort\">\r\n        <el-input v-model=\"form.sort\" style=\"width: 100px\"/>\r\n      </el-form-item>\r\n\r\n      <el-upload\r\n        :headers=\"headers\"\r\n        class=\"avatar-uploader\"\r\n        :action=\"getServerUrl()+'/admin/productSwiperImage/uploadImage'\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      > <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n        <el-icon v-else class=\"avatar-uploader-icon\"><plus /></el-icon>\r\n      </el-upload>\r\n\r\n      <el-form-item>\r\n        <el-button type=\"primary\"  @click=\"handleConfirm()\">添加</el-button>\r\n      </el-form-item>\r\n\r\n\r\n\r\n    </el-form>\r\n\r\n\r\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n\r\n      <el-table-column type=\"index\" width=\"50\" />\r\n\r\n      <el-table-column prop=\"image\" label=\"轮播图片\"  >\r\n        <template v-slot=\"scope\">\r\n          <img :src=\"getServerUrl()+'/image/productSwiperImgs/'+scope.row.image\" width=\"80\" height=\"80\"/>\r\n        </template>\r\n      </el-table-column>\r\n\r\n      <el-table-column prop=\"sort\" label=\"排列序号\" width=\"100\" />\r\n\r\n      <el-table-column prop=\"action\" label=\"操作\" width=\"100\" >\r\n        <template v-slot=\"scope\">\r\n          <el-button type=\"danger\" :icon=\"Delete\" @click=\"handleDelete(scope.row.id)\"></el-button>\r\n        </template>\r\n\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n\r\n  </el-dialog>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits,ref ,defineProps,watch} from 'vue'\r\nimport axios from \"@/util/axios\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nimport {getServerUrl} from \"@/config/sys\";\r\nimport { Delete,Plus } from '@element-plus/icons-vue'\r\n\r\nconst emits=defineEmits(['update:modelValue'])\r\n\r\nconst rules=ref({\r\n  sort:[\r\n    { required: true, message: '请输入排列序号!' },\r\n    { type: 'number', message: '排列序号是数值类型！',transform: (value) => Number(value) },\r\n  ]\r\n})\r\n\r\nconst handleClose = () => {\r\n  emits('update:modelValue',false)\r\n}\r\n\r\nconst formRef=ref(null)\r\n\r\nconst imageUrl=ref(\"\")\r\n\r\nconst headers=ref({\r\n  token:window.sessionStorage.getItem('token')\r\n})\r\n\r\n\r\n\r\nconst form=ref({\r\n  productId:-1,\r\n  sort:0,\r\n  image:''\r\n})\r\n\r\nconst props=defineProps({\r\n  productId:{\r\n    type:Number,\r\n    default:-1,\r\n    required:true\r\n  }\r\n})\r\n\r\nconst initProductSwiperImageList=async()=>{\r\n  console.log('xxx')\r\n  const res=await axios.get(\"admin/productSwiperImage/list/\"+form.value.productId);\r\n  tableData.value=res.data.productSwiperImageList;\r\n}\r\n\r\nwatch(\r\n  ()=>props.productId,\r\n  ()=>{\r\n    console.log(\"id==\"+props.productId);\r\n    let productId=props.productId;\r\n    form.value.productId=productId;\r\n    initProductSwiperImageList();\r\n  },\r\n  {deep:true,immediate:true}\r\n)\r\n\r\nconst tableData=ref([\r\n])\r\n\r\n\r\nconst beforeAvatarUpload = (file) => {\r\n  const isJPG = file.type === 'image/jpeg'\r\n  const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n  if (!isJPG) {\r\n    ElMessage.error('图片必须是jpg格式')\r\n  }\r\n  if (!isLt2M) {\r\n    ElMessage.error('图片大小不能超过2M!')\r\n  }\r\n  return isJPG && isLt2M\r\n}\r\n\r\nconst handleAvatarSuccess = (res) => {\r\n  console.log(res.data)\r\n  imageUrl.value=getServerUrl()+res.data.src;\r\n  form.value.image=res.data.title;\r\n}\r\n\r\n\r\nconst handleConfirm = () => {\r\n  if(imageUrl.value==\"\"){\r\n    ElMessage.error(\"请上传图片！\");\r\n    return;\r\n  }\r\n  formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      console.log(\"xxx\")\r\n      let result=await axios.post(\"admin/productSwiperImage/add\",form.value);\r\n      let data=result.data;\r\n      if(data.code==0){\r\n        ElMessage.success(\"执行成功\");\r\n        imageUrl.value=\"\"\r\n        formRef.value.resetFields();\r\n        await initProductSwiperImageList();\r\n\r\n      }else{\r\n        ElMessage.error(data.msg);\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  })\r\n}\r\n\r\nconst handleDelete = (id) => {\r\n\r\n  ElMessageBox.confirm(\r\n    '您确定要删除这条记录吗?',\r\n    '系统提示',\r\n    {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning',\r\n    }\r\n  )\r\n    .then(async() => {\r\n      console.log(\"id=\"+id)\r\n      let res=await axios.get(\"admin/productSwiperImage/delete/\"+id);\r\n      if(res.data.code==0){\r\n        ElMessage({\r\n          type: 'success',\r\n          message: '删除成功！',\r\n        });\r\n        initProductSwiperImageList();\r\n      }else{\r\n        ElMessage({\r\n          type: 'error',\r\n          message: res.data.msg,\r\n        });\r\n      }\r\n\r\n    })\r\n    .catch(() => {\r\n\r\n    })\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style >\r\n\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n\r\n</style>"]}]}