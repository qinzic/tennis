{"remainingRequest":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\java1234-mall-vue\\src\\views\\product\\components\\swiperDialog.vue?vue&type=template&id=3bcb456f","dependencies":[{"path":"D:\\code\\java1234-mall-vue\\src\\views\\product\\components\\swiperDialog.vue","mtime":1645267291758},{"path":"D:\\code\\java1234-mall-vue\\babel.config.js","mtime":1643881175553},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281881},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1731167278799},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJkaWFsb2ctZm9vdGVyIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi56Gu6K6k5pu05o2iIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm1faXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtLWl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfaWNvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1pY29uIik7CgogIHZhciBfY29tcG9uZW50X2VsX3VwbG9hZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC11cGxvYWQiKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CgogIHZhciBfY29tcG9uZW50X2VsX2J1dHRvbiA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1idXR0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfZGlhbG9nID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWRpYWxvZyIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9kaWFsb2csIHsKICAgICJtb2RlbC12YWx1ZSI6IF9jdHguaW1hZ2VEaWFsb2dWaXNpYmxlLAogICAgdGl0bGU6ICLlubvnga/orr7nva4iLAogICAgd2lkdGg6ICIzMCUiLAogICAgb25DbG9zZTogJHNldHVwLmhhbmRsZUNsb3NlLAogICAgY2VudGVyOiAiIgogIH0sIHsKICAgIGZvb3RlcjogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVFbGVtZW50Vk5vZGUoInNwYW4iLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfYnV0dG9uLCB7CiAgICAgICAgdHlwZTogInByaW1hcnkiLAogICAgICAgIG9uQ2xpY2s6ICRzZXR1cC5oYW5kbGVDb25maXJtCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19ob2lzdGVkXzNdOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgIH0pXSldOwogICAgfSksCiAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfZm9ybSwgewogICAgICAgIHJlZjogImZvcm1SZWYiLAogICAgICAgIG1vZGVsOiAkc2V0dXAuZm9ybSwKICAgICAgICAibGFiZWwtd2lkdGgiOiAiMTAwcHgiLAogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiCiAgICAgICAgfSwKICAgICAgICBydWxlczogJHNldHVwLnJ1bGVzCiAgICAgIH0sIHsKICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm1faXRlbSwgewogICAgICAgICAgICBsYWJlbDogIuaOkuWIl+W6j+WPtyIsCiAgICAgICAgICAgIHByb3A6ICJzd2lwZXJTb3J0IgogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9pbnB1dCwgewogICAgICAgICAgICAgICAgbW9kZWxWYWx1ZTogJHNldHVwLmZvcm0uc3dpcGVyU29ydCwKICAgICAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiAkc2V0dXAuZm9ybS5zd2lwZXJTb3J0ID0gJGV2ZW50OwogICAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICAgICAgICAid2lkdGgiOiAiMTAwcHgiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAgICAgLCBbIm1vZGVsVmFsdWUiXSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgICAgICB9KSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfdXBsb2FkLCB7CiAgICAgICAgICAgIGhlYWRlcnM6ICRzZXR1cC5oZWFkZXJzLAogICAgICAgICAgICBjbGFzczogImF2YXRhci11cGxvYWRlciIsCiAgICAgICAgICAgIGFjdGlvbjogJHNldHVwLmdldFNlcnZlclVybCgpICsgJy9hZG1pbi9wcm9kdWN0L3VwbG9hZFN3aXBlckltYWdlJywKICAgICAgICAgICAgInNob3ctZmlsZS1saXN0IjogZmFsc2UsCiAgICAgICAgICAgICJvbi1zdWNjZXNzIjogJHNldHVwLmhhbmRsZUF2YXRhclN1Y2Nlc3MsCiAgICAgICAgICAgICJiZWZvcmUtdXBsb2FkIjogJHNldHVwLmJlZm9yZUF2YXRhclVwbG9hZAogICAgICAgICAgfSwgewogICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFskc2V0dXAuaW1hZ2VVcmwgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJpbWciLCB7CiAgICAgICAgICAgICAgICBrZXk6IDAsCiAgICAgICAgICAgICAgICBzcmM6ICRzZXR1cC5pbWFnZVVybCwKICAgICAgICAgICAgICAgIGNsYXNzOiAiYXZhdGFyIgogICAgICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICAgICAgICwgX2hvaXN0ZWRfMSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfaWNvbiwgewogICAgICAgICAgICAgICAga2V5OiAxLAogICAgICAgICAgICAgICAgY2xhc3M6ICJhdmF0YXItdXBsb2FkZXItaWNvbiIKICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0OiBfd2l0aEN0eChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKCRzZXR1cFsiUGx1cyJdKV07CiAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgICAgICAgICB9KSldOwogICAgICAgICAgICB9KSwKICAgICAgICAgICAgXzogMQogICAgICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgICAgICB9LCA4CiAgICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICAgLCBbImhlYWRlcnMiLCAiYWN0aW9uIl0pXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9LCA4CiAgICAgIC8qIFBST1BTICovCiAgICAgICwgWyJtb2RlbCIsICJydWxlcyJdKV07CiAgICB9KSwKICAgIF86IDEKICAgIC8qIFNUQUJMRSAqLwoKICB9LCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWwtdmFsdWUiXSk7Cn0="},{"version":3,"mappings":"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","names":["class","_hoisted_3","_createTextVNode","render","_ctx","_cache","$props","$setup","$data","_component_el_input","_resolveComponent","_component_el_form_item","_component_el_icon","_component_el_upload","_component_el_form","_component_el_button","_component_el_dialog","_openBlock","_createBlock","title","width","onClose","center","footer","_createElementVNode","_createVNode","type","onClick","default","_","_withCtx","ref","model","style","rules","label","prop","modelValue","swiperSort","headers","action","_createElementBlock","key","src","_hoisted_1"],"sources":["D:\\code\\java1234-mall-vue\\src\\views\\product\\components\\swiperDialog.vue"],"sourcesContent":["<template>\r\n\r\n  <el-dialog\r\n    :model-value=\"imageDialogVisible\"\r\n    title=\"幻灯设置\"\r\n    width=\"30%\"\r\n    @close=\"handleClose\"\r\n    center\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"form\" label-width=\"100px\" style=\"text-align: center\" :rules=\"rules\">\r\n\r\n      <el-form-item label=\"排列序号\" prop=\"swiperSort\">\r\n        <el-input v-model=\"form.swiperSort\" style=\"width: 100px\"/>\r\n      </el-form-item>\r\n\r\n      <el-upload\r\n        :headers=\"headers\"\r\n        class=\"avatar-uploader\"\r\n        :action=\"getServerUrl()+'/admin/product/uploadSwiperImage'\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      > <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n        <el-icon v-else class=\"avatar-uploader-icon\"><plus /></el-icon>\r\n      </el-upload>\r\n\r\n\r\n    </el-form>\r\n\r\n    <template #footer>\r\n\r\n      <span class=\"dialog-footer\">\r\n\r\n        <el-button type=\"primary\" @click=\"handleConfirm\"\r\n        >确认更换</el-button\r\n        >\r\n      </span>\r\n\r\n    </template>\r\n\r\n  </el-dialog>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits,ref ,defineProps,watch} from 'vue'\r\nimport axios from \"@/util/axios\";\r\nimport { ElMessage  } from \"element-plus\";\r\nimport {getServerUrl} from \"@/config/sys\";\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\nconst emits=defineEmits(['update:modelValue','initProductList'])\r\n\r\nconst rules=ref({\r\n  swiperSort:[\r\n    { required: true, message: '请输入排列序号!' },\r\n    { type: 'number', message: '排列序号是数值类型！',transform: (value) => Number(value) },\r\n  ]\r\n},)\r\n\r\nconst formRef=ref(null)\r\n\r\n\r\nconst props=defineProps({\r\n  id:{\r\n    type:Number,\r\n    default:-1,\r\n    required:true\r\n  },\r\n  swiperSort:{\r\n    type:Number,\r\n    default:0,\r\n    required:true\r\n  }\r\n})\r\n\r\nconst form=ref({\r\n  id:-1,\r\n  swiperPic:'',\r\n  swiperSort:0\r\n})\r\n\r\nconst imageUrl=ref(\"\")\r\n\r\nconst headers=ref({\r\n  token:window.sessionStorage.getItem('token')\r\n})\r\n\r\n\r\n\r\n\r\n\r\nwatch(\r\n  ()=>props.id,\r\n  ()=>{\r\n    console.log(\"id==\"+props.id);\r\n    let id=props.id;\r\n    form.value.id=id;\r\n    form.value.swiperSort=props.swiperSort;\r\n  },\r\n  {deep:true,immediate:true}\r\n)\r\n\r\nconst beforeAvatarUpload = (file) => {\r\n  const isJPG = file.type === 'image/jpeg'\r\n  const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n  if (!isJPG) {\r\n    ElMessage.error('图片必须是jpg格式')\r\n  }\r\n  if (!isLt2M) {\r\n    ElMessage.error('图片大小不能超过2M!')\r\n  }\r\n  return isJPG && isLt2M\r\n}\r\n\r\nconst handleAvatarSuccess = (res) => {\r\n console.log(res.data)\r\n  imageUrl.value=getServerUrl()+res.data.src;\r\n  form.value.swiperPic=res.data.title;\r\n}\r\n\r\n\r\nconst handleConfirm = () => {\r\n  formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      let result=await axios.post(\"admin/product/saveSwiper\",form.value);\r\n      let data=result.data;\r\n      if(data.code==0){\r\n        ElMessage.success(\"执行成功\");\r\n        imageUrl.value=\"\"\r\n        emits(\"initProductList\")\r\n        handleClose();\r\n      }else{\r\n        ElMessage.error(data.msg);\r\n      }\r\n    } else {\r\n      return false\r\n    }\r\n  })\r\n}\r\n\r\nconst handleClose = () => {\r\n  emits('update:modelValue',false)\r\n}\r\n\r\n</script>\r\n\r\n<style >\r\n\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}