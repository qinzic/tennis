{"remainingRequest":"D:\\tennis\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\tennis\\java1234-mall-vue\\src\\views\\bigType\\components\\imageDialog.vue?vue&type=template&id=717a910e","dependencies":[{"path":"D:\\tennis\\java1234-mall-vue\\src\\views\\bigType\\components\\imageDialog.vue","mtime":1644881753000},{"path":"D:\\tennis\\java1234-mall-vue\\babel.config.js","mtime":1643881175000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1731167278000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIGNyZWF0ZVRleHRWTm9kZSBhcyBfY3JlYXRlVGV4dFZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gWyJzcmMiXTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJkaWFsb2ctZm9vdGVyIgp9OwoKdmFyIF9ob2lzdGVkXzMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgi56Gu6K6k5pu05o2iIik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2ljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtaWNvbiIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF91cGxvYWQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtdXBsb2FkIik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm0gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtZm9ybSIpOwoKICB2YXIgX2NvbXBvbmVudF9lbF9idXR0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtYnV0dG9uIik7CgogIHZhciBfY29tcG9uZW50X2VsX2RpYWxvZyA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1kaWFsb2ciKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfZWxfZGlhbG9nLCB7CiAgICAibW9kZWwtdmFsdWUiOiBfY3R4LmltYWdlRGlhbG9nVmlzaWJsZSwKICAgIHRpdGxlOiAi5ZWG5ZOB5aSn57G75Zu+54mH5pu05o2iIiwKICAgIHdpZHRoOiAiMzAlIiwKICAgIG9uQ2xvc2U6ICRzZXR1cC5oYW5kbGVDbG9zZSwKICAgIGNlbnRlcjogIiIKICB9LCB7CiAgICBmb290ZXI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2J1dHRvbiwgewogICAgICAgIHR5cGU6ICJwcmltYXJ5IiwKICAgICAgICBvbkNsaWNrOiAkc2V0dXAuaGFuZGxlQ29uZmlybQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfaG9pc3RlZF8zXTsKICAgICAgICB9KSwKICAgICAgICBfOiAxCiAgICAgICAgLyogU1RBQkxFICovCgogICAgICB9KV0pXTsKICAgIH0pLAogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICByZWY6ICJmb3JtUmVmIiwKICAgICAgICBtb2RlbDogJHNldHVwLmZvcm0sCiAgICAgICAgImxhYmVsLXdpZHRoIjogIjEwMHB4IiwKICAgICAgICBzdHlsZTogewogICAgICAgICAgInRleHQtYWxpZ24iOiAiY2VudGVyIgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBbX2NyZWF0ZUNvbW1lbnRWTm9kZSgiICAgICAgICA8ZWwtdXBsb2FkXHJcbiAgICAgICAgICBjbGFzcz1cImF2YXRhci11cGxvYWRlclwiXHJcbiAgICAgICAgICA6YWN0aW9uPVwiZ2V0U2VydmVyVXJsKCkrJy9hZG1pbi9iaWdUeXBlL3VwbG9hZEltYWdlJ1wiXHJcbiAgICAgICAgICBzaG93LWZpbGUtbGlzdD1mYWxzZVxyXG4gICAgICAgICAgYWNjZXB0PVwiaW1hZ2UvcG5nLGltYWdlL2dpZixpbWFnZS9qcGcsaW1hZ2UvanBlZ1wiXHJcbiAgICAgICAgICBhdXRvLXVwbG9hZD1mYWxzZVxyXG4gICAgICAgICAgbGlzdC10eXBlPVwicGljdHVyZS1jYXJkXCJcclxuICAgICAgICA+XHJcbiAgICAgICAgICA8aW1nIHYtaWY9XCJpbWFnZVVybFwiIDpzcmM9XCJpbWFnZVVybFwiIGNsYXNzPVwiYXZhdGFyXCIgLz5cclxuICAgICAgICAgIDxlbC1pY29uIHYtZWxzZSBjbGFzcz1cImF2YXRhci11cGxvYWRlci1pY29uXCI+PHBsdXMgLz48L2VsLWljb24+XHJcbiAgICAgICAgPC9lbC11cGxvYWQ+IiksIF9jcmVhdGVDb21tZW50Vk5vZGUoIiAgICAgICA8ZWwtaW1hZ2VcclxuICAgICAgICAgIHN0eWxlPVwid2lkdGg6IDIwMHB4OyBoZWlnaHQ6IDIwMHB4XCJcclxuICAgICAgICAgIDpzcmM9XCJpbWFnZVNyY1wiXHJcbiAgICAgICAgICBmaXQ9XCJmaXRcIlxyXG4gICAgICAgID5cclxuXHJcbiAgICAgICA8L2VsLWltYWdlPiIpLCBfY3JlYXRlQ29tbWVudFZOb2RlKCIgICAgICAgPGVsLXVwbG9hZFxyXG4gICAgICAgICAgOmFjdGlvbj1cImdldFNlcnZlclVybCgpKycvYWRtaW4vYmlnVHlwZS91cGxvYWRJbWFnZSdcIlxyXG4gICAgICAgICAgOmRhdGE9XCJhY3Rpb25EYXRhXCJcclxuICAgICAgICAgIHNob3ctZmlsZS1saXN0PWZhbHNlXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgPGVsLWJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiPueCueWHu+S4iuS8oOWbvueJhzwvZWwtYnV0dG9uPlxyXG4gICAgICAgIDwvZWwtdXBsb2FkPiIpLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF91cGxvYWQsIHsKICAgICAgICAgICAgaGVhZGVyczogJHNldHVwLmhlYWRlcnMsCiAgICAgICAgICAgIGNsYXNzOiAiYXZhdGFyLXVwbG9hZGVyIiwKICAgICAgICAgICAgYWN0aW9uOiAkc2V0dXAuZ2V0U2VydmVyVXJsKCkgKyAnL2FkbWluL2JpZ1R5cGUvdXBsb2FkSW1hZ2UnLAogICAgICAgICAgICAic2hvdy1maWxlLWxpc3QiOiBmYWxzZSwKICAgICAgICAgICAgIm9uLXN1Y2Nlc3MiOiAkc2V0dXAuaGFuZGxlQXZhdGFyU3VjY2VzcywKICAgICAgICAgICAgImJlZm9yZS11cGxvYWQiOiAkc2V0dXAuYmVmb3JlQXZhdGFyVXBsb2FkCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gWyRzZXR1cC5pbWFnZVVybCA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImltZyIsIHsKICAgICAgICAgICAgICAgIGtleTogMCwKICAgICAgICAgICAgICAgIHNyYzogJHNldHVwLmltYWdlVXJsLAogICAgICAgICAgICAgICAgY2xhc3M6ICJhdmF0YXIiCiAgICAgICAgICAgICAgfSwgbnVsbCwgOAogICAgICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAgICAgLCBfaG9pc3RlZF8xKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9pY29uLCB7CiAgICAgICAgICAgICAgICBrZXk6IDEsCiAgICAgICAgICAgICAgICBjbGFzczogImF2YXRhci11cGxvYWRlci1pY29uIgogICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoJHNldHVwWyJQbHVzIl0pXTsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgLyogU1RBQkxFICovCgogICAgICAgICAgICAgIH0pKV07CiAgICAgICAgICAgIH0pLAogICAgICAgICAgICBfOiAxCiAgICAgICAgICAgIC8qIFNUQUJMRSAqLwoKICAgICAgICAgIH0sIDgKICAgICAgICAgIC8qIFBST1BTICovCiAgICAgICAgICAsIFsiaGVhZGVycyIsICJhY3Rpb24iXSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgIH0sIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm1vZGVsIl0pXTsKICAgIH0pLAogICAgXzogMQogICAgLyogU1RBQkxFICovCgogIH0sIDgKICAvKiBQUk9QUyAqLwogICwgWyJtb2RlbC12YWx1ZSJdKTsKfQ=="},{"version":3,"mappings":";;;AAuDYA,OAAK,EAAC;;;AAAe,IAAfC,UAAD,GAAL,aAAMC,gBAAe,CAGxB,MAHwB;;AAGpB,OAAJ,SAHwBC,MAGpB,CAAJC,IAAI,EAAJC,MAAI,EAAJC,MAAI,EAAJC,MAAI,EAAJC,KAAI;AAAA,MAAJC,kBAHwB,GAAfC,iBAAe,UAGpB;;AAAA,MAAJC,oBAHwB,GAAfD,iBAAe,CAGxB,WAAI;;AAAA,MAAJE,kBAHwB,GAAfF,iBAAe,UAGpB;;AAAA,MAAJG,oBAHwB,GAAfH,iBAAe,CAGxB,WAAI;;AAAA,MAAJI,oBAHwB,GAAfJ,iBAAe,CAGxB,WAAI;;AAAA,SAAJK,UAHwB,IAAfC,iCAGL,EAMC;AA7DT,mBAAaZ,uBA6DJ;AA5DVa,SAAK,EAAC,UA4DI;AA3DVC,SAAK,EAAC,KA2DI;AA1DTC,WAAK,EAAEZ,kBA0DE;AAzDVa,UAAM,EAAN;AAyDU,GA9DZ,EAKQ;AA8CKC,UAAM,WAEf;AAAA,aAKO,CALPC,oBAKO,MALP,cAKO,CAHLC,aAECV,oBAFD,EAEC;AAFUW,YAAI,EAAC,SAEf;AAF0BC,eAAK,EAAElB;AAEjC,OAFD,EAA+C;AAAAmB,eAAb;AAAA,kBAC7BzB,WAAJ;AAAA,SAD8C;AAC1C0B,SAAJ,EAD8C;AAAb;;AAAa,OAA/C,CAGK,CALP,CAKO,CALP;AAAA,KAFe,CA9CX;AAmDGD,WAAJ,EAD8CE,QAAb;AAAA,aACjC,CAhDLL,aAyCUX,kBAzCV,EAyCU;AAzCDiB,WAAG,EAAC,SAyCH;AAzCcC,aAAK,EAAEvB,WAyCrB;AAzC2B,uBAAY,OAyCvC;AAzC+CwB,aAA0B,EAA1B;AAAA;AAAA;AAyC/C,OAzCV,EAAmF;AAAAL,eAA1B;AAAA,kBAG7DM,6fAUuB,EACvBA,yLADuB,EAQvBA,kRARuB,EAgBjBT,aASYZ,oBATZ,EASY;AARTsB,mBAAO,EAAE1B,cAQA;AAPVP,iBAAK,EAAC,iBAOI;AANTkC,kBAAM,EAAE3B,wBAAY,4BAMX;AALT,8BAAgB,KAKP;AAJT,0BAAYA,0BAIH;AAHT,6BAAeA;AAGN,WATZ,EAMoC;AAAAmB,mBAAlB,EAAFE,QAAE;AAAA,sBACLrB,eAA2C,IAAnCQ,UAAR,IAAXoB,oBAAsD,KAAtD,EAAsD;AAAAC,mBAAtD,EAAmB,CAAmC;AAAhCC,mBAAG,EAAE9B,eAA2B;AAAjBP,qBAAK,EAAC;AAAW,eAAtD,EAAmD,IAAnD,EAAmD;AAAR;AAA3C,gBAAmDsC,UAAnD,CAAsD,KAAHvB,UAAR,gBAC3C,CAA+DN,kBAA/D,EAA+D;AAAA2B,mBAA/D,EADmD,CACY;AAA/CpC,qBAAK,EAAC;AAAyC,eAA/D,EAA4C;AAAA0B,uBAAtB;AAAA,0BAAuBH,aAAQhB,cAAR,CAAQ,CAAR;AAAA,iBAAD;;;;AAAA,eAA5C,CADsD,EAAtD;AAAA,aADkC;;;;AAAA,WANpC;;AAAA,kCAhBiB,CAVvB;AAAA,SAHuF;;;;AAAA,OAAnF;;AAAA,kBAyCU,CAzCV;AAAA,KAgDS,CAnDH;;;;AAAA,GALR;;AAAA,oBAwDW","names":["class","_hoisted_3","_createTextVNode","render","_ctx","_cache","$props","$setup","$data","_component_el_icon","_resolveComponent","_component_el_upload","_component_el_form","_component_el_button","_component_el_dialog","_openBlock","_createBlock","title","width","onClose","center","footer","_createElementVNode","_createVNode","type","onClick","default","_","_withCtx","ref","model","style","_createCommentVNode","headers","action","_createElementBlock","key","src","_hoisted_1"],"sources":["D:\\tennis\\java1234-mall-vue\\src\\views\\bigType\\components\\imageDialog.vue"],"sourcesContent":["<template>\r\n\r\n  <el-dialog\r\n    :model-value=\"imageDialogVisible\"\r\n    title=\"商品大类图片更换\"\r\n    width=\"30%\"\r\n    @close=\"handleClose\"\r\n    center\r\n  >\r\n\r\n    <el-form ref=\"formRef\" :model=\"form\" label-width=\"100px\" style=\"text-align: center\">\r\n\r\n\r\n<!--        <el-upload\r\n          class=\"avatar-uploader\"\r\n          :action=\"getServerUrl()+'/admin/bigType/uploadImage'\"\r\n          show-file-list=false\r\n          accept=\"image/png,image/gif,image/jpg,image/jpeg\"\r\n          auto-upload=false\r\n          list-type=\"picture-card\"\r\n        >\r\n          <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n          <el-icon v-else class=\"avatar-uploader-icon\"><plus /></el-icon>\r\n        </el-upload>-->\r\n<!--       <el-image\r\n          style=\"width: 200px; height: 200px\"\r\n          :src=\"imageSrc\"\r\n          fit=\"fit\"\r\n        >\r\n\r\n       </el-image>-->\r\n<!--       <el-upload\r\n          :action=\"getServerUrl()+'/admin/bigType/uploadImage'\"\r\n          :data=\"actionData\"\r\n          show-file-list=false\r\n          >\r\n        <el-button type=\"primary\">点击上传图片</el-button>\r\n        </el-upload>-->\r\n\r\n      <el-upload\r\n        :headers=\"headers\"\r\n        class=\"avatar-uploader\"\r\n        :action=\"getServerUrl()+'/admin/bigType/uploadImage'\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      > <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n        <el-icon v-else class=\"avatar-uploader-icon\"><plus /></el-icon>\r\n      </el-upload>\r\n\r\n\r\n    </el-form>\r\n\r\n    <template #footer>\r\n\r\n      <span class=\"dialog-footer\">\r\n\r\n        <el-button type=\"primary\" @click=\"handleConfirm\"\r\n        >确认更换</el-button\r\n        >\r\n      </span>\r\n\r\n    </template>\r\n\r\n  </el-dialog>\r\n\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits,ref ,defineProps,watch} from 'vue'\r\nimport axios from \"@/util/axios\";\r\nimport { ElMessage  } from \"element-plus\";\r\nimport {getServerUrl} from \"@/config/sys\";\r\nimport { Plus } from '@element-plus/icons-vue'\r\n\r\nconst emits=defineEmits(['update:modelValue','initBigTypeList'])\r\n\r\n\r\n\r\nconst props=defineProps({\r\n  imageDialogValue:{\r\n    type:Object,\r\n    default:()=>{}\r\n  }\r\n})\r\n\r\nconst form=ref({\r\n  id:-1,\r\n  image:''\r\n})\r\n\r\nconst imageUrl=ref(\"\")\r\n\r\nconst headers=ref({\r\n  token:window.sessionStorage.getItem('token')\r\n})\r\n\r\nconst actionData=ref({id:form.value.id})\r\n\r\nconst imageSrc=ref(\"\")\r\n\r\n\r\n\r\nwatch(\r\n  ()=>props.imageDialogValue,\r\n  ()=>{\r\n    console.log(\"imageDialogValue==\"+props.imageDialogValue);\r\n    form.value=props.imageDialogValue;\r\n    actionData.value.id= form.value.id;\r\n    imageSrc.value=getServerUrl()+'/image/bigType/'+form.value.image;\r\n    // form.value.id=id;\r\n    console.log(form.value)\r\n\r\n  },\r\n  {deep:true,immediate:true}\r\n)\r\n\r\nconst beforeAvatarUpload = (file) => {\r\n  const isJPG = file.type === 'image/jpeg'\r\n  const isLt2M = file.size / 1024 / 1024 < 2\r\n\r\n  if (!isJPG) {\r\n    ElMessage.error('图片必须是jpg格式')\r\n  }\r\n  if (!isLt2M) {\r\n    ElMessage.error('图片大小不能超过2M!')\r\n  }\r\n  return isJPG && isLt2M\r\n}\r\n\r\nconst handleAvatarSuccess = (res) => {\r\n console.log(res.data)\r\n  imageUrl.value=getServerUrl()+res.data.src;\r\n  form.value.image=res.data.title;\r\n}\r\n\r\n\r\nconst handleConfirm = async() => {\r\n  let result=await axios.post(\"admin/bigType/save\",form.value);\r\n  let data=result.data;\r\n  if(data.code==0){\r\n    ElMessage.success(\"执行成功\");\r\n    imageUrl.value=\"\"\r\n   emits(\"initBigTypeList\")\r\n   handleClose();\r\n  }else{\r\n    ElMessage.error(data.msg);\r\n  }\r\n}\r\n\r\nconst handleClose = () => {\r\n  emits('update:modelValue',false)\r\n}\r\n\r\n</script>\r\n\r\n<style >\r\n\r\n.avatar-uploader .el-upload {\r\n  border: 1px dashed #d9d9d9;\r\n  border-radius: 6px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n.avatar-uploader .el-upload:hover {\r\n  border-color: #409eff;\r\n}\r\n.el-icon.avatar-uploader-icon {\r\n  font-size: 28px;\r\n  color: #8c939d;\r\n  width: 178px;\r\n  height: 178px;\r\n  text-align: center;\r\n}\r\n.avatar {\r\n  width: 178px;\r\n  height: 178px;\r\n  display: block;\r\n}\r\n\r\n</style>"],"sourceRoot":""}]}