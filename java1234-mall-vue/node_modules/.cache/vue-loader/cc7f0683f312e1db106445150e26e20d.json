{"remainingRequest":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\tennis\\java1234-mall-vue\\src\\views\\appoint\\components\\dialog.vue?vue&type=template&id=1bfdf469&scoped=true","dependencies":[{"path":"D:\\tennis\\java1234-mall-vue\\src\\views\\appoint\\components\\dialog.vue","mtime":1734861990710},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1731167281000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1731167278000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284000},{"path":"D:\\tennis\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIDxlbC1kaWFsb2cNCiAgICA6bW9kZWwtdmFsdWU9ImRpYWxvZ1Zpc2libGUiDQogICAgOnRpdGxlPSJkaWFsb2dUaXRsZSINCiAgICB3aWR0aD0iNTAlIg0KICAgIEBjbG9zZT0iaGFuZGxlQ2xvc2UiDQogID4NCiAgICA8ZWwtZm9ybSByZWY9ImZvcm1SZWYiIDptb2RlbD0iZm9ybSIgbGFiZWwtd2lkdGg9IjEwMHB4IiA6cnVsZXM9InJ1bGVzIiBjbGFzcz0iZm9ybS1jb250YWluZXIiPg0KDQogICAgICA8IS0tIOWcuuWcsOWQjeensCAtLT4NCiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuWcuuWcsOWQjeensCIgcHJvcD0ibmFtZSIgY2xhc3M9ImZvcm0taXRlbSI+DQogICAgICAgIDxlbC1pbnB1dCB2LW1vZGVsPSJmb3JtLm5hbWUiIHN0eWxlPSJ3aWR0aDogMTAwJSI+PC9lbC1pbnB1dD4NCiAgICAgIDwvZWwtZm9ybS1pdGVtPg0KDQogICAgICA8IS0tIOWcuuWcsOWbvueJhyAtLT4NCiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuWcuuWcsOWbvueJhyIgcHJvcD0iaW1hZ2UiIGNsYXNzPSJmb3JtLWl0ZW0iPg0KICAgICAgICA8ZWwtdXBsb2FkDQogICAgICAgICAgY2xhc3M9InVwbG9hZC1kZW1vIg0KICAgICAgICAgIGFjdGlvbj0iL3VwbG9hZCINCiAgICAgICAgICBsaXN0LXR5cGU9InBpY3R1cmUtY2FyZCINCiAgICAgICAgICA6b24tc3VjY2Vzcz0iaGFuZGxlSW1hZ2VTdWNjZXNzIg0KICAgICAgICAgIDpiZWZvcmUtdXBsb2FkPSJiZWZvcmVVcGxvYWQiDQogICAgICAgID4NCiAgICAgICAgICA8aSBjbGFzcz0iZWwtaWNvbi1wbHVzIj48L2k+DQogICAgICAgIDwvZWwtdXBsb2FkPg0KICAgICAgICANCiAgICAgICAgPHNwYW4gdi1pZj0iZm9ybS5pbWFnZSIgY2xhc3M9InVwbG9hZGVkLWltYWdlIj4NCiAgICAgICAgICA8aW1nIDpzcmM9ImZvcm0uaW1hZ2UiIGFsdD0i5Zy65Zyw5Zu+54mHIiBjbGFzcz0iaW1hZ2UtcHJldmlldyI+DQogICAgICAgIDwvc3Bhbj4NCiAgICAgIDwvZWwtZm9ybS1pdGVtPg0KDQogICAgICA8IS0tIOWJqeS9meS6uuaVsCAtLT4NCiAgICAgIDxlbC1mb3JtLWl0ZW0gbGFiZWw9IuWJqeS9meS6uuaVsCIgcHJvcD0iY2FwYWNpdHkiIGNsYXNzPSJmb3JtLWl0ZW0iPg0KICAgICAgICA8ZWwtaW5wdXQgdi1tb2RlbD0iZm9ybS5jYXBhY2l0eSIgc3R5bGU9IndpZHRoOiAxMDAlIiB0eXBlPSJudW1iZXIiPjwvZWwtaW5wdXQ+DQogICAgICA8L2VsLWZvcm0taXRlbT4NCg0KICAgICAgPCEtLSDlnLrlnLDmj4/ov7AgLS0+DQogICAgICA8ZWwtZm9ybS1pdGVtIGxhYmVsPSLlnLrlnLDmj4/ov7AiIHByb3A9ImRlc2NyaXB0aW9uIiBjbGFzcz0iZm9ybS1pdGVtIj4NCiAgICAgICAgPGVsLWlucHV0DQogICAgICAgICAgdi1tb2RlbD0iZm9ybS5kZXNjcmlwdGlvbiINCiAgICAgICAgICA6cm93cz0iNCINCiAgICAgICAgICB0eXBlPSJ0ZXh0YXJlYSINCiAgICAgICAgLz4NCiAgICAgIDwvZWwtZm9ybS1pdGVtPg0KDQogICAgPC9lbC1mb3JtPg0KICAgIDx0ZW1wbGF0ZSAjZm9vdGVyPg0KICAgICAgPHNwYW4gY2xhc3M9ImRpYWxvZy1mb290ZXIiPg0KICAgICAgICA8ZWwtYnV0dG9uIEBjbGljaz0iaGFuZGxlQ2xvc2UiPuWPlua2iDwvZWwtYnV0dG9uPg0KICAgICAgICA8ZWwtYnV0dG9uIHR5cGU9InByaW1hcnkiIEBjbGljaz0iaGFuZGxlQ29uZmlybSI+56Gu6K6kPC9lbC1idXR0b24+DQogICAgICA8L3NwYW4+DQogICAgPC90ZW1wbGF0ZT4NCiAgPC9lbC1kaWFsb2c+DQo="},{"version":3,"sources":["D:\\tennis\\java1234-mall-vue\\src\\views\\appoint\\components\\dialog.vue"],"names":[],"mappings":"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","file":"D:/tennis/java1234-mall-vue/src/views/appoint/components/dialog.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-dialog\r\n    :model-value=\"dialogVisible\"\r\n    :title=\"dialogTitle\"\r\n    width=\"50%\"\r\n    @close=\"handleClose\"\r\n  >\r\n    <el-form ref=\"formRef\" :model=\"form\" label-width=\"100px\" :rules=\"rules\" class=\"form-container\">\r\n\r\n      <!-- 场地名称 -->\r\n      <el-form-item label=\"场地名称\" prop=\"name\" class=\"form-item\">\r\n        <el-input v-model=\"form.name\" style=\"width: 100%\"></el-input>\r\n      </el-form-item>\r\n\r\n      <!-- 场地图片 -->\r\n      <el-form-item label=\"场地图片\" prop=\"image\" class=\"form-item\">\r\n        <el-upload\r\n          class=\"upload-demo\"\r\n          action=\"/upload\"\r\n          list-type=\"picture-card\"\r\n          :on-success=\"handleImageSuccess\"\r\n          :before-upload=\"beforeUpload\"\r\n        >\r\n          <i class=\"el-icon-plus\"></i>\r\n        </el-upload>\r\n        \r\n        <span v-if=\"form.image\" class=\"uploaded-image\">\r\n          <img :src=\"form.image\" alt=\"场地图片\" class=\"image-preview\">\r\n        </span>\r\n      </el-form-item>\r\n\r\n      <!-- 剩余人数 -->\r\n      <el-form-item label=\"剩余人数\" prop=\"capacity\" class=\"form-item\">\r\n        <el-input v-model=\"form.capacity\" style=\"width: 100%\" type=\"number\"></el-input>\r\n      </el-form-item>\r\n\r\n      <!-- 场地描述 -->\r\n      <el-form-item label=\"场地描述\" prop=\"description\" class=\"form-item\">\r\n        <el-input\r\n          v-model=\"form.description\"\r\n          :rows=\"4\"\r\n          type=\"textarea\"\r\n        />\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"handleClose\">取消</el-button>\r\n        <el-button type=\"primary\" @click=\"handleConfirm\">确认</el-button>\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { defineEmits, ref, defineProps, watch } from 'vue'\r\nimport axios from \"@/util/axios\";\r\nimport { ElMessage } from \"element-plus\";\r\n\r\n// Props\r\nconst props = defineProps({\r\n  dialogTitle: {\r\n    type: String,\r\n    default: '',\r\n    required: true\r\n  },\r\n  dialogValue: {\r\n    type: Object,\r\n    default: () => {}\r\n  }\r\n})\r\n\r\nconst form = ref({\r\n  id: -1,\r\n  name: '',\r\n  image: '',  // 场地图片路径\r\n  capacity: 0,  // 剩余人数\r\n  description: ''\r\n})\r\n\r\nconst formRef = ref(null)\r\n\r\nconst emits = defineEmits(['update:modelValue', 'initVenueList'])\r\n\r\nconst handleClose = () => {\r\n  formRef.value.resetFields();\r\n  emits('update:modelValue', false)\r\n}\r\n\r\nconst rules = ref({\r\n  name: [\r\n    {\r\n      required: true,\r\n      message: '请输入场地名称！',\r\n    }\r\n  ],\r\n  capacity: [\r\n    { required: true, message: '请输入剩余人数!' },\r\n    { type: 'number', message: '剩余人数必须是数值类型！', transform: (value) => Number(value) },\r\n  ],\r\n  description: [\r\n    {\r\n      required: true,\r\n      message: '请输入场地描述！',\r\n    },\r\n  ],\r\n})\r\n\r\nconst handleImageSuccess = (response) => {\r\n  // 假设图片上传成功后，返回的响应包含图片的 URL 地址\r\n  form.value.image = response.url;\r\n  ElMessage.success('图片上传成功');\r\n}\r\n\r\nconst beforeUpload = (file) => {\r\n  const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\r\n  if (!isJPG) {\r\n    ElMessage.error('上传图片只能是 JPG 或 PNG 格式!');\r\n  }\r\n  const isLt2M = file.size / 1024 / 1024 < 2;\r\n  if (!isLt2M) {\r\n    ElMessage.error('上传图片大小不能超过 2MB!');\r\n  }\r\n  return isJPG && isLt2M;\r\n}\r\n\r\nconst handleConfirm = () => {\r\n  formRef.value.validate(async (valid) => {\r\n    if (valid) {\r\n      try {\r\n        let result = await axios.post(\"admin/venue/save\", form.value);\r\n        let data = result.data;\r\n        if (data.code === 0) {\r\n          ElMessage.success(\"场地信息保存成功\");\r\n          formRef.value.resetFields();\r\n          emits(\"initVenueList\");\r\n          handleClose();\r\n        } else {\r\n          ElMessage.error(data.msg);\r\n        }\r\n      } catch (err) {\r\n        console.error(\"error:\" + err)\r\n        ElMessage.error('系统运行出错，请联系管理员');\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  })\r\n}\r\n\r\nwatch(\r\n  () => props.dialogValue,\r\n  () => {\r\n    form.value = props.dialogValue;\r\n  },\r\n  { deep: true, immediate: true }\r\n)\r\n</script>\r\n<style scoped>\r\n/* 使用 Flexbox 布局确保所有表单项都在同一列内 */\r\n.form-container {\r\n  display: flex;\r\n  flex-direction: column; /* 所有表单项垂直排列 */\r\n  gap: 20px;  /* 每个表单项之间的间距 */\r\n  width: 100%;  /* 确保容器宽度充满 */\r\n}\r\n\r\n/* 每个表单项 */\r\n.form-item {\r\n  display: flex;\r\n  flex-direction: column;  /* 保证 label 和输入框是竖直排列的 */\r\n  gap: 10px;  /* 控制 label 和输入框之间的间距 */\r\n  width: 100%;  /* 确保每个表单项的宽度填满容器 */\r\n}\r\n\r\n/* 上传图片的容器，确保上传按钮和图片显示在同一列 */\r\n.upload-demo {\r\n  width: 100px;\r\n  height: 100px;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n/* 显示上传的图片 */\r\n.uploaded-image {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.image-preview {\r\n  width: 80px;\r\n  height: 80px;\r\n  object-fit: cover;  /* 确保图片适应框内，避免变形 */\r\n  border-radius: 8px;\r\n}\r\n\r\n/* 控制每个 form-item 内部的输入框 */\r\n.el-input {\r\n  width: 100%;\r\n}\r\n</style>\r\n\r\n\r\n\r\n\r\n"]}]}