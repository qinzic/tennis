{"remainingRequest":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\code\\java1234-mall-vue\\src\\views\\bigType\\index.vue?vue&type=style&index=0&id=9961d69a&lang=scss&scoped=true","dependencies":[{"path":"D:\\code\\java1234-mall-vue\\src\\views\\bigType\\index.vue","mtime":1644792570707},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":1731167281208},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1731167278768},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1731167279229},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1731167278645},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1731167284852},{"path":"D:\\code\\java1234-mall-vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1731167278265}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoNCg0KLmhlYWRlcnsNCiAgcGFkZGluZy1ib3R0b206IDE2cHg7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQp9DQoNCi5lbC1wYWdpbmF0aW9uew0KICBwYWRkaW5nLXRvcDogMTVweDsNCiAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCn0NCg0K"},{"version":3,"sources":["D:\\code\\java1234-mall-vue\\src\\views\\bigType\\index.vue"],"names":[],"mappings":";;;AA6JA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACxB","file":"D:/code/java1234-mall-vue/src/views/bigType/index.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-card>\r\n    <el-row :gutter=\"20\" class=\"header\">\r\n      <el-col :span=\"7\">\r\n        <el-input placeholder=\"请输入商品大类名称...\" clearable v-model=\"queryForm.query\"></el-input>\r\n      </el-col>\r\n      <el-button type=\"primary\" :icon=\"Search\" @click=\"initBigTypeList\">搜索</el-button>\r\n      <el-button type=\"primary\" @click=\"handleDialogValue()\">添加商品大类</el-button>\r\n    </el-row>\r\n    <el-table :data=\"tableData\" stripe style=\"width: 100%\">\r\n      <el-table-column prop=\"id\" label=\"#ID\" width=\"80\" />\r\n\r\n      <el-table-column prop=\"name\" label=\"商品大类名称\" width=\"200\" />\r\n\r\n      <el-table-column  prop=\"image\" label=\"商品大类图片\" width=\"200\">\r\n        <template v-slot=\"scope\">\r\n          <img :src=\"getServerUrl()+'/image/bigType/'+scope.row.image\" width=\"80\" height=\"80\"/>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column prop=\"remark\" label=\"商品大类描述\"/>\r\n      <el-table-column prop=\"action\" label=\"操作\" width=\"300\">\r\n        <template v-slot=\"scope\">\r\n          <el-button type=\"success\" @click=\"handleChangeImage(scope.row)\">更换图片</el-button>\r\n          <el-button type=\"primary\" :icon=\"Edit\" @click=\"handleDialogValue(scope.row)\"></el-button>\r\n          <el-button type=\"danger\" :icon=\"Delete\" @click=\"handleDelete(scope.row.id)\"></el-button>\r\n        </template>\r\n\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n\r\n    <el-pagination\r\n      v-model:currentPage=\"queryForm.pageNum\"\r\n      :page-sizes=\"[10, 20, 30, 40,50]\"\r\n      :page-size=\"queryForm.pageSize\"\r\n      :small=\"small\"\r\n      :disabled=\"disabled\"\r\n      :background=\"background\"\r\n      layout=\"total, sizes, prev, pager, next, jumper\"\r\n      :total=\"total\"\r\n      @size-change=\"handleSizeChange\"\r\n      @current-change=\"handleCurrentChange\"\r\n    >\r\n    </el-pagination>\r\n  </el-card>\r\n  <Dialog v-model=\"dialogVisible\" :dialogTitle=\"dialogTitle\" @initBigTypeList=\"initBigTypeList\" :id=\"id\"/>\r\n  <ImageDialog v-model=\"imageDialogVisible\" :imageDialogValue=\"imageDialogValue\" @initBigTypeList=\"initBigTypeList\"/>\r\n</template>\r\n\r\n<script setup>\r\nimport {Search,Edit,Delete } from '@element-plus/icons-vue'\r\nimport { ref } from 'vue'\r\nimport  axios from '@/util/axios'\r\nimport {getServerUrl} from \"@/config/sys\";\r\nimport Dialog from './components/dialog'\r\nimport ImageDialog from './components/imageDialog'\r\nimport {ElMessageBox,ElMessage} from 'element-plus'\r\n\r\nconst queryForm=ref({\r\n  query:'',\r\n  pageNum:1,\r\n  pageSize:10\r\n})\r\n\r\nconst total=ref(0)\r\n\r\nconst id=ref(-1)\r\n\r\nconst tableData=ref([\r\n])\r\n\r\nconst imageDialogValue=ref({})\r\n\r\nconst dialogTitle=ref('')\r\n\r\nconst initBigTypeList=async()=>{\r\n  console.log('xxx')\r\n  const res=await axios.post(\"admin/bigType/list\",queryForm.value);\r\n  tableData.value=res.data.bigTypeList;\r\n  total.value=res.data.total;\r\n}\r\n\r\ninitBigTypeList();\r\n\r\nconst dialogVisible=ref(false)\r\n\r\nconst imageDialogVisible=ref(false)\r\n\r\n\r\nconst handleSizeChange=(pageSize)=>{\r\n  queryForm.value.pageNum=1;\r\n  queryForm.value.pageSize=pageSize;\r\n  initBigTypeList();\r\n}\r\n\r\nconst handleCurrentChange=(pageNum)=>{\r\n  queryForm.value.pageNum=pageNum;\r\n  initBigTypeList();\r\n}\r\n\r\n\r\nconst handleDialogValue = (row) => {\r\n  if(row){\r\n    id.value=row.id;\r\n    console.log(id)\r\n    dialogTitle.value=\"商品大类修改\"\r\n  }else{\r\n    id.value=-1;\r\n    dialogTitle.value=\"商品大类添加\"\r\n  }\r\n  dialogVisible.value=true;\r\n}\r\n\r\nconst handleDelete = (id) => {\r\n\r\n  ElMessageBox.confirm(\r\n    '您确定要删除这条记录吗?',\r\n    '系统提示',\r\n    {\r\n      confirmButtonText: '确定',\r\n      cancelButtonText: '取消',\r\n      type: 'warning',\r\n    }\r\n  )\r\n    .then(async() => {\r\n      console.log(\"id=\"+id)\r\n      let res=await axios.get(\"admin/bigType/delete/\"+id);\r\n      if(res.data.code==0){\r\n        ElMessage({\r\n          type: 'success',\r\n          message: '删除成功！',\r\n        });\r\n        initBigTypeList();\r\n      }else{\r\n        ElMessage({\r\n          type: 'error',\r\n          message: res.data.msg,\r\n        });\r\n      }\r\n\r\n    })\r\n    .catch(() => {\r\n\r\n    })\r\n}\r\n\r\n// 更换图片处理\r\nconst handleChangeImage = (row) => {\r\n  imageDialogValue.value=JSON.parse(JSON.stringify(row));\r\n  imageDialogVisible.value=true;\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n\r\n.header{\r\n  padding-bottom: 16px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n.el-pagination{\r\n  padding-top: 15px;\r\n  box-sizing: border-box;\r\n}\r\n\r\n</style>"]}]}